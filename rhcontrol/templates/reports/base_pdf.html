{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Relatório{% endblock %}</title>
    <style>
        @page {
            size: A4;
            margin: 2rem;
            @bottom-right {
                content: "Pág. " counter(page) " de " counter(pages);
                font-family: Helvetica, sans-serif;
                font-size: 0.6rem;
                color: #888;
            }
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1rem;
            color: #000;
            line-height: 1.2;
            margin: 0;
            padding: 0;
        }

        .doc-title {
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 1rem;
            margin-bottom: 2rem;
            text-transform: uppercase;
            letter-spacing: 0.05rem;
        }   

        .header-container {
            width: 100%;
            margin-bottom: 2rem;
        }

        .header-table {
            width: 100%;
            border-collapse: collapse;
            border: none;
        }

        .col-logo {
            width: 20%;
            text-align: left;
            vertical-align: middle;
        }

        .col-center {
            width: 60%;
            text-align: center;
            vertical-align: middle;
        }

        .col-meta {
            width: 20%;
            text-align: right;
            vertical-align: middle;
        }

        .header-logo-img {
            width: 5rem;
            height: auto;
            object-fit: contain;
        }

        .company-title {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.6rem;
            font-weight: bold;
            color: #7eb77e;
            text-transform: uppercase;
            letter-spacing: 0.05rem;
            display: inline-block;
            border-bottom: 0.15rem solid #7eb77e;
            padding-bottom: 0.1rem;
            margin-bottom: 0.3rem;
            line-height: 1;
            white-space: nowrap;
        }

        .report-subtitle {
            font-family: 'Times New Roman', Times, serif;
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
            margin: 0;
        }

        .meta-text {
            font-family: 'Helvetica', sans-serif;
            font-size: 0.55rem;
            color: #666;
            line-height: 1.4;
        }

        .content {
            width: 100%;
        }

        .legal-text {
            text-align: justify;
            text-indent: 2.5rem;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        ol.legal-list { 
            padding-left: 3rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        ol.legal-list li {
            text-align: justify;
            padding-left: 0.5rem;
            margin-bottom: 0.8rem;
        }

        .date-line {
            text-align: center;
            margin-top: 3rem;    
            margin-bottom: 4rem;  
            font-size: 0.9rem;
        }
    
        .signatures-block {
            width: 100%;
            margin-top: 1rem;
            page-break-inside: avoid;
        }

        .signature-box {
            text-align: center;
            margin-bottom: 3.5rem;
            page-break-inside: avoid;
        }

        .signature-box:last-child {
            margin-bottom: 0;
        }

        .signature-line {
            border-top: 0.06rem solid #000;
            width: 22rem;
            margin: 0 auto 0.4rem auto;
        }

        .sig-name {
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.8rem;
            text-align: center;
        }
        
        .sig-role {
            font-size: 0.65rem;
            color: #333;
            text-align: center;
        }

        .footer-container {
            position: running(addressFooter);
            margin-bottom: 2.5rem;
        }

        .footer-address {
            text-align: center;
            font-family: 'Helvetica', sans-serif;
            font-size: 0.55rem;
            color: #666;
            border-top: 0.06rem solid #ccc;
            padding-top: 0.6rem;
            margin-top: 1rem;
        }
        
        @page {
            @bottom-center {
                content: element(addressFooter);
            }
        }

        {% block style %}{% endblock %}
    </style>
</head>
<body>

    <div class="header-container">
        <table class="header-table">
            <tr>
                <td class="col-logo">
                    <img src="{% static 'global/images/LOGO_GDL.png' %}" class="header-logo-img" alt="Logo">
                </td>
                <td class="col-center">
                    <div class="company-title">
                        {% block header_company %}{{company_name_settings}}{% endblock %}
                    </div>
                    <div class="report-subtitle">
                        {% block header_title %}Relatório Geral{% endblock %}
                    </div>
                </td>
                <td class="col-meta">
                    <div class="meta-text">
                        Gerado em:<br>
                        {% now "d/m/Y \à\s H:i" %}<br>
                        por {{ user.get_full_name|default:user.username }}
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <div class="footer-container">
        <div class="footer-address">
            {{company_address}} - Cep: {{company_zip}} - Tel/Fax {{company_phone}}<br>
            {{company_neighborhood}} - {{company_city}} - {{company_state}} - email: {{company_email}}
        </div>
    </div>

</body>
</html>