{% extends 'global/base.html' %}

{% block title %} Alterar Senha | {% endblock title %}

{% block content %}

<div class="form-container" style="max-width: 600px;"> <h2 style="border-bottom-color: #ffc107;">Alterar Senha</h2>

    <div style="background-color: #f8f9fa; padding: 0.9375rem; border-radius: 5px; margin-bottom: 1.25rem; border-left: 4px solid #ffc107;">
        <p style="margin: 0; color: #666;">
            <strong>Atenção:</strong> Após alterar a senha, você continuará logado, mas precisará usar a nova senha no próximo acesso.
        </p>
    </div>

    <form method="POST">
        {% csrf_token %}
        
        <div style="display: flex; flex-direction: column; gap: 1.25rem;">
            {% for field in form %}
                <div class="form-group">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                    {% if field.help_text %}
                        <small style="color: #6c757d; display: block; margin-top: 0.3125rem; font-size: 0.875rem;">{{ field.help_text }}</small>
                    {% endif %}
                    {% for error in field.errors %}
                        <div style="color: #dc3545; font-size: 0.5625rem; margin-top: 0.3125rem;">{{ error }}</div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>

        <div class="form-actions" style="justify-content: space-between;">
            <a href="{% url 'rhcontrol:profile' %}" style="color: #6c757d; text-decoration: none; font-weight: 600;">
                &larr; Voltar ao Perfil
            </a>
            <button type="submit" class="btn-save">Confirmar Nova Senha</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const inputs = document.querySelectorAll('input[type="password"]');
        inputs.forEach(input => {
            input.classList.add('form-control');
            input.style.fontSize = '1.125rem';
            input.style.padding = '0.625rem';
        });
    });
</script>

{% endblock %}