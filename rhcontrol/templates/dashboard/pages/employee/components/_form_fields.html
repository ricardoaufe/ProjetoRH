<div class="form-content">
            
    <h3 class="section-title">Dados Pessoais</h3>
    
    {% include 'partials/form_field.html' with field=form.name grid_class="col-span-7" %}
    {% include 'partials/form_field.html' with field=form.registration_number grid_class="col-span-1" %}
    {% include 'partials/form_field.html' with field=form.mother_name grid_class="col-span-8"%}
    {% include 'partials/form_field.html' with field=form.birth_date grid_class="col-span-1" %}
    
    {% include 'partials/form_field.html' with field=form.gender grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.ethnicity grid_class="col-span-1" %}

    {% include 'partials/form_field.html' with field=form.marital_status grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.birth_city grid_class="col-span-2"%}
    {% include 'partials/form_field.html' with field=form.state_birthplace_code grid_class="col-span-1"%}
    {% include 'partials/form_field.html' with field=form.education_level grid_class="col-span-2"%}
    
    {% include 'partials/form_field.html' with field=form.email grid_class="col-span-3"%}
    <div class="col-span-2"></div>
    {% include 'partials/form_field.html' with field=form.mobile_phone grid_class="col-span-1"%}
    {% include 'partials/form_field.html' with field=form.emergency_contact_name grid_class="col-span-3"%}
    {% include 'partials/form_field.html' with field=form.emergency_phone grid_class="col-span-2" %}
    

    <h3 class="section-title">Documentação</h3>

    {% include 'partials/form_field.html' with field=form.cpf grid_class="col-span-1" %}
    {% include 'partials/form_field.html' with field=form.rg grid_class="col-span-1" %}
    
    {% include 'partials/form_field.html' with field=form.rg_issue_date grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.pis grid_class="col-span-2" %}
    <div class="col-span-2"></div>
    {% include 'partials/form_field.html' with field=form.ctps_number grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.ctps_series grid_class="col-span-1" %}
    
    {% include 'partials/form_field.html' with field=form.ctps_issue_date grid_class="col-span-1" %}


    <h3 class="section-title">Contato e Endereço</h3>

    {% include 'partials/form_field.html' with field=form.zip_code grid_class="col-span-1" %}
    {% include 'partials/form_field.html' with field=form.address grid_class="col-span-3" %}
    {% include 'partials/form_field.html' with field=form.address_num grid_class="col-span-1"%}
    {% include 'partials/form_field.html' with field=form.complement grid_class="col-span-1" %}
    <div class="col-span-2"></div>
    {% include 'partials/form_field.html' with field=form.neighborhood grid_class="col-span-2"%}
    {% include 'partials/form_field.html' with field=form.city grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.state_code grid_class="col-span-1" %}
    
    <h3 class="section-title">Dependentes</h3>

        {% include 'partials/form_field.html' with field=form.has_dependents grid_class="col-span-3" %}
        <div class="col-span-5"></div>

        <div id="dependents-container" class="hidden col-span-8">
        <div style="background-color: #f8f9fa; padding: 1.25rem; border-radius: 0.5rem; border: 1px solid #dee2e6;">
            
            {{ dependent_formset.management_form }}

            <div id="dependents-list">
                {% for dep_form in dependent_formset %}
                    <div class="dependent-row" style="margin-bottom: 0.9375rem; background-color: #fff; border: 1px solid #e0e0e0; border-radius: 0.375rem; overflow: hidden;">
                        
                        {% for hidden in dep_form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}

                        <div style="display: none;">
                            {{ dep_form.DELETE }}
                        </div>

                        <div class="dep-header" onclick="toggleDependentBody(this)" style="padding: 0.9375rem; background-color: #f1f3f5; cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e0e0e0;">
                            <div style="display: flex; align-items: center; gap: 0.625rem;">
                                <i class="fa fa-chevron-right dep-arrow" style="transition: transform 0.2s; color: #6c757d;"></i>
                                <h4 style="margin: 0; font-size: 1.5rem; color: #495057; font-weight: 700;">
                                    <span class="dep-name-display">{{ dep_form.instance.name|default:"Novo Dependente" }}</span>
                                    <small style="font-weight: 400; color: #6c757d; margin-left: 0.3125rem;">
                                        (<span class="dep-relation-display">{{ dep_form.instance.relationship_type|default:"..." }}</span>)
                                    </small>
                                </h4>
                            </div>
                            
                            <div style="display: flex; gap: 0.625rem;">
                                <button type="button" class="remove-dep-btn" style="border: none; background: transparent; color: #dc3545; font-size: 1.2rem; cursor: pointer;" title="Excluir Dependente">
                                    <i class="fa fa-trash"></i>
                                </button>
                            </div>
                        </div>

                        <div class="dep-body" style="padding: 1.25rem; display: none;"> <div class="form-content" style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 1.25rem;">
                                
                                {% include 'partials/form_field.html' with field=dep_form.name label="Nome Completo" grid_class="col-span-4" %}
                                {% include 'partials/form_field.html' with field=dep_form.cpf label="CPF" grid_class="col-span-2" %}
                                {% include 'partials/form_field.html' with field=dep_form.birth_date label="Data Nasc." grid_class="col-span-2" %}
                                
                                {% include 'partials/form_field.html' with field=dep_form.relationship_type label="Vínculo" grid_class="col-span-3" %}
                                {% include 'partials/form_field.html' with field=dep_form.has_disability grid_class="col-span-5" %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <button type="button" id="add-dependent-btn" style="background-color: #6c757d; color: white; border: none; padding: 0.625rem 1.25rem; border-radius: 0.25rem; cursor: pointer; font-weight: 600; margin-top: 0.625rem;">
                + Adicionar Dependente
            </button>
        </div>
    </div>

    <div id="empty-dependent-form" style="display:none;">
        <div class="dependent-row" style="margin-bottom: 0.9375rem; background-color: #fff; border: 1px solid #e0e0e0; border-radius: 0.375rem; overflow: hidden;">
            
            <div style="display: none;">
                <input type="checkbox" name="dependents-__prefix__-DELETE" id="id_dependents-__prefix__-DELETE">
            </div>

            <div class="dep-header" onclick="toggleDependentBody(this)" style="padding: 0.9375rem; background-color: #f1f3f5; cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e0e0e0;">
                <div style="display: flex; align-items: center; gap: 0.625rem;">
                    <i class="fa fa-chevron-down dep-arrow" style="transition: transform 0.2s; color: #6c757d;"></i>
                    <h4 style="margin: 0; font-size: 1.5rem; color: #495057; font-weight: 700;">
                        <span class="dep-name-display">Novo Dependente</span>
                        <small style="font-weight: 400; color: #6c757d; margin-left: 0.3125rem;">
                            (<span class="dep-relation-display">...</span>)
                        </small>
                    </h4>
                </div>
                
                <div style="display: flex; gap: 0.625rem;">
                    <button type="button" class="remove-dep-btn" data-new="true" style="border: none; background: transparent; color: #dc3545; font-size: 1.2rem; cursor: pointer;">
                        <i class="fa fa-trash"></i>
                    </button>
                </div>
            </div>

            <div class="dep-body" style="padding: 1.25rem; display: block;"> 
                <div class="form-content" style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 1.25rem;">
                    
                    {% include 'partials/form_field.html' with field=dependent_formset.empty_form.name label="Nome Completo" grid_class="col-span-4" %}
                    {% include 'partials/form_field.html' with field=dependent_formset.empty_form.cpf label="CPF" grid_class="col-span-2" %}
                    {% include 'partials/form_field.html' with field=dependent_formset.empty_form.birth_date label="Data Nasc." grid_class="col-span-2" %}
                    
                    {% include 'partials/form_field.html' with field=dependent_formset.empty_form.relationship_type label="Vínculo" grid_class="col-span-3" %}
                    {% include 'partials/form_field.html' with field=dependent_formset.empty_form.has_disability grid_class="col-span-5" %}
                </div>
            </div>
        </div>
    </div>

    <h3 class="section-title">Dados Bancários</h3>

    {% include 'partials/form_field.html' with field=form.bank_name grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.account_type grid_class="col-span-2"%}
    
    {% include 'partials/form_field.html' with field=form.bank_agency_code grid_class="col-span-1" %}
    {% include 'partials/form_field.html' with field=form.account_num grid_class="col-span-2" %}


    <h3 class="section-title">Outras Informações</h3>

    {% include 'partials/form_field.html' with field=form.is_pcd grid_class="col-span-3" %}
    <div class="col-span-5"></div>

    <div id="pcd-container" class="hidden col-span-8">
        <div style="background-color: #f8f9fa; padding: 1.25rem; border-radius: 0.5rem; border: 1px solid #dee2e6; display: grid; grid-template-columns: repeat(8, 1fr); gap: 1.25rem;">
            
            {% include 'partials/form_field.html' with field=form.disability_type grid_class="col-span-3" %}
            
        </div>
    </div>

    {% include 'partials/form_field.html' with field=form.is_foreign grid_class="col-span-3" %}
    <div class="col-span-5"></div>

    <div id="foreign-container" class="hidden col-span-8">
        <div style="background-color: #f8f9fa; padding: 1.25rem; border-radius: 0.5rem; border: 1px solid #dee2e6; display: grid; grid-template-columns: repeat(8, 1fr); gap: 1.25rem;">
            
            {% include 'partials/form_field.html' with field=form.arrival_date grid_class="col-span-2" %}
            {% include 'partials/form_field.html' with field=form.naturalization_date grid_class="col-span-2" %}
            {% include 'partials/form_field.html' with field=form.rne_number grid_class="col-span-3" %}
            
            {% include 'partials/form_field.html' with field=form.rne_issue_date grid_class="col-span-2" %}
            {% include 'partials/form_field.html' with field=form.rne_issuing_authority grid_class="col-span-3" %}
            <div class="col-span-2"></div>
            {% include 'partials/form_field.html' with field=form.married_to_brazilian grid_class="col-span-2" %}
            {% include 'partials/form_field.html' with field=form.has_brazilian_children grid_class="col-span-2" %}
            
        </div>
    </div>


    {% include 'partials/form_field.html' with field=form.is_cipa_member grid_class="col-span-3" %}
    <div class="col-span-5"></div>

    <div id="cipa-container" class="hidden col-span-8">
        <div style="background-color: #f8f9fa; padding: 1.25rem; border-radius: 0.5rem; border: 1px solid #dee2e6; display: grid; grid-template-columns: repeat(8, 1fr); gap: 1.25rem;">
            
            {% include 'partials/form_field.html' with field=form.cipa_role grid_class="col-span-3" %}
            {% include 'partials/form_field.html' with field=form.cipa_mandate_start_date grid_class="col-span-2" %}
            {% include 'partials/form_field.html' with field=form.cipa_mandate_end_date grid_class="col-span-2" %}
            
        </div>
    </div>

    <div class="col-span-4" style="margin-top: 0.9375rem;">
        {% include 'partials/form_field.html' with field=form.retirement_status %}
    </div>

    <h3 class="section-title">Dados do Contrato</h3>
    
    {% include 'partials/form_field.html' with field=form.hire_date grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.department grid_class="col-span-2"%}
    {% include 'partials/form_field.html' with field=form.job_title grid_class="col-span-2"%}

    {% include 'partials/form_field.html' with field=form.current_salary is_money=True grid_class="col-span-1"%}
    
    {% include 'partials/form_field.html' with field=form.admission_exam_date grid_class="col-span-2" %}

    {% if form.instance.pk %}
        <div class="conditional-section col-span-6" style="border: 1px solid #ffeeba; background-color: #fff3cd; border-radius: 0.375rem; padding: 0.3125rem 0.9375rem; display: flex; align-items: flex-start; gap: 0.9375rem;">
            
            <div style="margin-top: 2rem; font-weight: bold; color: #856404; white-space: nowrap; font-size: 1.5rem;">
                <i class="fa fa-history"></i> Alteração:
            </div>

            <div style="flex: 1; min-width: 8.125rem;">
                {% include 'partials/form_field.html' with field=form.change_date grid_class="w-full" %}
            </div>

            <div style="flex: 2; min-width: 9.375rem;">
                {% include 'partials/form_field.html' with field=form.change_reason grid_class="w-full" %}
            </div>

        </div>
    {% else %}
        <div class="col-span-6"></div>
    {% endif %}

    {% include 'partials/form_field.html' with field=form.workday_type grid_class="col-span-2" %}
    
    {% include 'partials/form_field.html' with field=form.working_info grid_class="col-span-6" %}

    {% include 'partials/form_field.html' with field=form.special_workday grid_class="col-span-2" %}
    <div id="special-workday-other-container" class="col-span-6" style="display: none;">
        {% include 'partials/form_field.html' with field=form.special_workday_other %}
    </div>  

    {% include 'partials/form_field.html' with field=form.is_trial_contract grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.is_first_job grid_class="col-span-2" %}
    {% include 'partials/form_field.html' with field=form.is_intermittent_contract grid_class="col-span-2"%}
    {% include 'partials/form_field.html' with field=form.uses_transport_voucher grid_class="col-span-2" %}

    {% include 'partials/form_field.html' with field=form.has_insalubrity_bonus grid_class="col-span-2"%}
    {% include 'partials/form_field.html' with field=form.has_danger_bonus grid_class="col-span-2"%}

</div>